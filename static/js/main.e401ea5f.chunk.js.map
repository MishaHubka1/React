{"version":3,"sources":["redux/dialogs-reduser.js","Components/Users/users.module.css","hoc/withAuthRedirect.js","api/api.js","Components/Navbar/Navbar.module.css","Components/Navbar/Navbar.jsx","utils/validators/object-helpers.js","redux/Users-reduser.js","Components/common/Paginator/Paginator.jsx","assets/images/user.png","Components/Users/User.jsx","Components/Users/Users.jsx","assets/images/preloader.svg","Components/common/Preloader/Preloader.js","redux/users-selectors.js","Components/Users/UsersContainer.jsx","Components/Header/Header.jsx","redux/auth-reduser.js","Components/Header/HeaderContainer.jsx","Components/Login/Login.jsx","redux/app-reduser.js","redux/sidebar-reduser.js","redux/redux-store.js","hoc/withSuspens.js","App.js","index.js","Components/common/FormsControls/FormsControls.js","Components/common/FormsControls/FormsControls.module.css","Components/common/Paginator/Paginator.module.css","utils/validators/validators.js","Components/Header/Header.module.css","redux/profile-reduser.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Navbar","className","s","nav","item","activeClassName","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMetod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","selectedPage","pageNumber","e","User","user","src","photos","small","userPhoto","disabled","some","Users","Preloader","style","backgroundColor","preloader","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","compose","dispach","bind","page","totalCount","Header","header","loginBlock","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","formSummaryError","length","stopSubmit","_error","FormData","SET_INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiJsApp","StrictMode","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validators","component","text","validate","value","maxLengthCreator","maxLenght","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","massage","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.e401ea5f.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Alita'},\r\n        {id: 2, name: 'Misha'},\r\n        {id: 3, name: 'Kamalia'},\r\n        {id: 4, name: 'Zeus'},\r\n        {id: 5, name: 'Prometey'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How your name is'},\r\n        {id: 3, message: 'How are you'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'},\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n switch (action.type) {\r\n     case SEND_MESSAGE:\r\n         let body = action.newMessageBody;\r\n        return {...state, messages: [...state.messages, {id: 6, message: body}]\r\n   };\r\n     default :\r\n         return state;\r\n }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2SWHz\",\"selectedPage\":\"users_selectedPage__20fny\"};","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n  });\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"} />\r\n            return <Component {...this.props} />\r\n       }\r\n    }\r\n   \r\n    \r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n\r\n} ","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create ({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"3178fc81-e726-4820-9e30-ead2321e7fe8\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(response => {\r\n            return response.data;\r\n        })},\r\nfollow(userId) {\r\n    return instance.post(`follow/${userId}`)},\r\nunfollow(userId) {\r\n    return instance.delete(`follow/${userId}`)},\r\ngetProfile(userId) {\r\n    console.warn('Obsolete method. Plase profileAPI object.')\r\n    return profileAPI.getProfile(userId);\r\n}    \r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n   \r\ngetProfile(userId) {\r\n    return instance.get(`profile/` + userId);\r\n},\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status });\r\n    }       \r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n       return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe })\r\n     },\r\n     logout() {\r\n        return instance.delete(`auth/login`)\r\n     },\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1mhbM\",\"item\":\"Navbar_item__20Vex\",\"active\":\"Navbar_active__3ZOMq\"};","import s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nconst Navbar = () => {\r\n  return <nav className={s.nav}>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n    </div>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/dialogs\" activeClassName={s.active}>Massages</NavLink>\r\n    </div>\r\n\r\n    <div className={s.item}>\r\n      <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n    </div>\r\n\r\n    <div className={s.item}>\r\n      <NavLink to=\"/News\" activeClassName={s.active}>News</NavLink>\r\n    </div>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/Music\" activeClassName={s.active}>Music</NavLink>\r\n    </div>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/Settings\" activeClassName={s.active}>Settings</NavLink>\r\n    </div>\r\n  </nav>\r\n}\r\n\r\nexport default Navbar;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    \r\nreturn items.map((u) => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps };\r\n    }\r\n    return u;\r\n  })} \r\n\r\n","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/validators/object-helpers\";\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n      };\r\n\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users };\r\n    }\r\n\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage };\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return { ...state, totalUsersCount: action.count };\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching };\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id != action.userId),\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async (dispach) => {\r\n    dispach(toggleIsFetching(true));\r\n    dispach(setCurrentPage(page));\r\n    let data = await usersAPI.getUsers(page, pageSize);\r\n    dispach(toggleIsFetching(false));\r\n    dispach(setUsers(data.items));\r\n    dispach(setTotalUsersCount(data.totalCount));\r\n  };\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMetod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let response = await apiMetod(userId);\r\n  if (response.data.resultCode == 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispach) => {\r\n    followUnfollowFlow(\r\n      dispach,\r\n      userId,\r\n      usersAPI.follow.bind(usersAPI),\r\n      followSuccess\r\n    );\r\n  };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispach) => {\r\n    followUnfollowFlow(\r\n      dispach,\r\n      userId,\r\n      usersAPI.unfollow.bind(usersAPI),\r\n      unfollowSuccess\r\n    );\r\n  };\r\n};\r\n\r\nexport default usersReducer;\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\n/* import cn from \"classnames\" */\r\n\r\n  let Paginator = ({totalItemsCount, pageSize, onPageChanged, currentPage, portionSize = 10 }) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return <div className={styles.paginator}>\r\n    { portionNumber > 1 &&\r\n    <button onClick={() => { setPortionNumber (portionNumber - 1) }} >Prev</button>}\r\n    \r\n    { pages\r\n    .filter(p=>p>=leftPortionPageNumber && p<=rightPortionPageNumber).map((p) => {\r\n      return <span className={/* cn */ ({\r\n      [styles.selectedPage] : currentPage === p\r\n      }, styles.pageNumber)}\r\n      key={p}\r\n      onClick={(e) => {\r\n        onPageChanged(p);\r\n      }}>{p}</span>\r\n    })}\r\n    {portionCount > portionNumber && \r\n    <button onClick={ () => { setPortionNumber(portionNumber + 1) }}>Next</button> }\r\n    </div>\r\n  }\r\nexport default Paginator;\r\n","export default __webpack_public_path__ + \"static/media/user.a6143582.png\";","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n\r\n  return (\r\n        <div>\r\n          <span>\r\n            <div>\r\n              <NavLink to={\"/profile/\" + user.id}>\r\n                <img\r\n                  src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                  className={styles.userPhoto}\r\n                />\r\n              </NavLink>\r\n            </div>\r\n            <div>\r\n              {user.followed ? (\r\n                <button\r\n                  disabled={followingInProgress.some((id) => id === user.id)}\r\n                  onClick={() => {\r\n                    unfollow(user.id);\r\n                  }}\r\n                >\r\n                  Unfollow\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  disabled={followingInProgress.some((id) => id === user.id)}\r\n                  onClick={() => {\r\n                    follow(user.id);\r\n                  }}\r\n                >\r\n                  Follow\r\n                </button>\r\n              )}\r\n            </div>\r\n          </span>\r\n          <span>\r\n            <span>\r\n              <div>{user.name}</div>\r\n              <div>{user.status}</div>\r\n            </span>\r\n            <span>\r\n              <div>{\"user.location.country\"}</div>\r\n              <div>{\"user.location.city\"}</div>\r\n            </span>\r\n          </span>\r\n        </div>\r\n  )}\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n\r\n  return (\r\n    <div>\r\n      <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} pageSize={pageSize} />  \r\n      <div>\r\n      {\r\n      users.map(u => <User \r\n        user={u} \r\n        followingInProgress={props.followingInProgress} \r\n        key={u.id} \r\n        unfollow={props.unfollow}\r\n        follow={props.follow} />\r\n      )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","export default __webpack_public_path__ + \"static/media/preloader.d69c91b1.svg\";","import preloader from \"../../../assets/images/preloader.svg\";\r\n\r\nlet Preloader = (props) => {\r\n    return <div style = { { backgroundColor: 'white' } }>\r\n        <img src={preloader} />\r\n    </div>\r\n}\r\n\r\n\r\nexport default Preloader;","import React from 'react'\r\n\r\nexport const getUsers = (state) => {\r\n    return (\r\n        state.usersPage.users\r\n    )\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return (\r\n        state.usersPage.pageSize\r\n    )\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return (\r\n        state.usersPage.totalUsersCount\r\n    )\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return (\r\n        state.usersPage.currentPage\r\n    )\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return (\r\n        state.usersPage.isFetching\r\n    )\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return (\r\n        state.usersPage.followingInProgress\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleFollowingProgress, requestUsers\r\n} from '../../redux/Users-reduser';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getPageSize, getUsers, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors';\r\n\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress} />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers })\r\n)(UsersContainer)","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img src='https://codesign.com.bd/conversations/content/images/2020/03/Sprint-logo-design-Codesign-agency.png' />\r\n\r\n        <div className={s.loginBlock}>\r\n            { props.isAuth \r\n            ? <div>{props.login} - <button onClick={props.logout}>Logout</button></div>\r\n            : <NavLink to={'/login'}>Login</NavLink> }\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'network/auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n  \r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n               ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: {userId, email, login, isAuth} })\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n   let response = await authAPI.me();\r\n        if (response.data.resultCode === 0) {\r\n            let {id, login, email} = response.data.data; \r\n            dispatch (setAuthUserData(id, email, login, true));\r\n        }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe );\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUserData())\r\n        } else {\r\n           let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n            dispatch( stopSubmit(\"login\", {_error: message}));  \r\n        }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n   let response = await authAPI.logout()\r\n        if (response.data.resultCode === 0) {\r\n                 dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n}\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport {logout} from '../../redux/auth-reduser'\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n  \r\n    \r\nrender () {\r\n    return <Header {...this.props} />\r\n}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n}); \r\nexport default connect (mapStateToProps, {logout}) (HeaderContainer);","import React from 'react';\r\nimport \"./Login.css\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { createField, Input } from '../common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from \"../../redux/auth-reduser\"\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from \"./../common/FormsControls/FormsControls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n                {createField(\"Email\", \"email\", [required], Input )}\r\n                {createField(\"Password\", \"password\", [required], Input, {type: \"password\"} )}\r\n                {createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"rememberMe\" )}\r\n\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    //unique name for the form\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (FormData) => {\r\n        props.login(FormData.email, FormData.password, FormData.rememberMe);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, { login })(Login);\r\n\r\n\r\n\r\n\r\n\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\nimport { getAuthUserData } from \"./auth-reduser\";\r\n\r\nconst SET_INITIALIZED_SUCCESS = 'SET_INITIALIZED_SUCCESS';\r\n\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n  \r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n       \r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const setInitializedSuccess = () => ({ type: SET_INITIALIZED_SUCCESS })\r\nexport const initializeApp = () => (dispatch) => {\r\n   let promise = dispatch(getAuthUserData());\r\n   Promise.all([promise]).then(() => {\r\n    dispatch(setInitializedSuccess());\r\n   });\r\n}\r\n\r\n\r\n\r\n\r\nexport default appReducer;","let  initialState = {\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\nimport profileReducer from \"./profile-reduser\";\r\nimport dialogsReducer from \"./dialogs-reduser\";\r\nimport sidebarReducer from \"./sidebar-reduser\";\r\nimport usersReducer from \"./Users-reduser\";\r\nimport authReducer from \"./auth-reduser\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reduser\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\n\r\n\r\nexport default store;","import React, { Suspense } from 'react'\r\nimport Preloader from \"../Components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Preloader />} > <Component {...props} />\r\n        </Suspense> \r\n    };\r\n} ","import React, { Suspense } from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./Components/Navbar/Navbar\";\nimport { Route, BrowserRouter, withRouter } from \"react-router-dom\";\nimport UsersContainer from \"./Components/Users/UsersContainer\";\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\nimport LoginPage from \"./Components/Login/Login\";\nimport { connect } from \"react-redux\";\nimport { initializeApp } from \"./redux/app-reduser\";\nimport { compose } from \"redux\";\nimport Preloader from \"./Components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\nimport { Provider } from \"react-redux\";\nimport { withSuspense } from \"./hoc/withSuspens\";\n\n//import DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\nconst DialogsContainer = React.lazy(() =>\n  import(\"./Components/Dialogs/DialogsContainer\")\n);\n//import ProfileContainer from \"./Components/Profile/ProfileContainer\";\nconst ProfileContainer = React.lazy(() =>\n  import(\"./Components/Profile/ProfileContainer\")\n);\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <Route\n            path=\"/dialogs\"\n            render={withSuspense (DialogsContainer)} />\n\n          <Route path=\"/profile/:userId?\" \n         render={withSuspense(ProfileContainer)} />\n\n          <Route path=\"/users\" render={() => <UsersContainer />} />\n\n          <Route path=\"/login\" render={() => <LoginPage />} />\n\n          {/* <Route path='/news/' render={ () => <News/>}/>\n                    <Route path='/music/' render={ () => <Music/>}/>\n                    <Route path='/Settings/' render={ () => <Settings/>}/>*/}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n});\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App);\n\nconst SamuraiJsApp = (props) => {\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <React.StrictMode>\n          <AppContainer />\n        </React.StrictMode>\n      </Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default SamuraiJsApp;\n","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport SamuraiJsApp from './App';\n\n\n\n    ReactDOM.render(<SamuraiJsApp />, document.getElementById('root'));\n\n\n\n\n\n\n\n\n\n\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport \"./FormsControls.module.css\";\r\nimport styles from \"./FormsControls.module.css\"\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n            {children}\r\n            </div>\r\n           {hasError && <span>{error}</span> }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n    <Field placeholder={placeholder} name={name}\r\n                    validate={validators}\r\n                    component={component} \r\n                    {...props} \r\n                    /> {text}       \r\n</div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3OqYV\",\"error\":\"FormsControls_error__1rOMF\",\"formSummaryError\":\"FormsControls_formSummaryError__34o_s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2GC3T\",\"pageNumber\":\"Paginator_pageNumber__1xmzD\",\"selectedPage\":\"Paginator_selectedPage__2Y5Js\"};","import React from 'react'\r\n\r\nexport const required = (value) => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n    \r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLenght) => (value) => {\r\n    if (value && value.length > maxLenght) return `Max lenght is ${maxLenght} symbols`;\r\n    return undefined;\r\n    \r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2LmlR\",\"loginBlock\":\"Header_loginBlock__3VjsT\"};","import { profileAPI, usersAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, massage: 'Hi. how are you?', likesCount: 12},\r\n        {id: 2, massage: 'Its mi first post', likesCount: 23}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState , action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3,\r\n                massage: action.newPostText,\r\n                likesCount: 5\r\n            };\r\n            return {...state,\r\n                posts : [...state.posts,newPost],\r\n                newPostText : '', };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n       case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p=>p.id != action.postId)}\r\n        }\r\n\r\n        default :\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n        dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    \r\n        dispatch(setStatus(response.data));\r\n    \r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n        }\r\n}\r\n\r\n\r\nexport default profileReducer;"],"sourceRoot":""}